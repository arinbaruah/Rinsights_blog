{
  "hash": "d16b2928ec5f92ee54338efa6063d8ba",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"How do the goals scored and conceded vary for those at the top and bottom of the table in Women's EFL? ‚öΩÔ∏è\"\nauthor: \"Arindam Baruah\"\ndate: \"2024-07-20\"\ncategories: [R,data cleaning,exploratory data analysis,plot aesthetics, ggplot2]\nquarto-required: \">=1.3.0\"\nformat:\n    html:\n        output-file: post.html\nexecute: \n  echo: true\n  message: false\n  warning: false\nnumber-sections: true\n---\n\n\n\n# Introduction\n\nGet ready to kick off your analysis and celebrate the remarkable achievements in women's football! ü•≥ü•á‚öΩÔ∏è\n\nThis week's [TidyTuesday](https://github.com/rfordatascience/tidytuesday/blob/master/README.md) dataset dealt with the Women's English Football League performances between 2011-2023.‚öΩÔ∏è\n\nMore details on this dataset [here](https://github.com/rfordatascience/tidytuesday/blob/master/data/2024/2024-07-16/readme.md) üëà\n\n# Methodology\n\nThe source of the data and the code used to obtain @fig-plot is delineated through @sec-source to @sec-viz.\n\n## Sourcing the data {#sec-source}\n\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\"}\newf_standings <- readr::read_csv(\n  \"https://raw.githubusercontent.com/probjects/ewf-database/main/data/ewf_standings.csv\"\n)\n```\n:::\n\n\n\n\n## Setting the aesthetic theme\n\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\"}\nlibrary(tidyverse)\nlibrary(stringr)\nlibrary(glue)\nlibrary(ggrepel)\nlibrary(ggplot2)\nlibrary(ggtext)\nlibrary(sysfonts)\nlibrary(showtext)\n\n\n# caption handles\nswd <- str_glue(\"#SWDchallenge: June 2024 &bull; Source: Synthetic data from ChatGPT<br>\")  \nli <- str_glue(\"<span style='font-family:fa6-brands'>&#xf08c;</span>\")  \ngh <- str_glue(\"<span style='font-family:fa6-brands'>&#xf09b;</span>\")\nmn <- str_glue(\"<span style='font-family:fa6-brands'>&#xf4f6;</span>\")\n\n\n# plot colors\nbkg_col      <- colorspace::lighten(\"#e3d5eb\", 0.05)    \ntitle_col    <- \"#3d3d3d\"           \nsubtitle_col <- \"#3d3d3d\"     \ncaption_col  <- \"#72647D\"   \ntext_col     <- colorspace::darken(\"gray40\" , 0.2)  \n\n# fonts\n\nfont_add('fa6-brands','fontawesome/otfs/Font Awesome 6 Brands-Regular-400.otf') \nfont_add_google(\"DM Serif Display\", regular.wt = 400, family = \"title\")                 \nfont_add_google(\"Urbanist\", regular.wt = 400, family = \"subtitle\")  \nfont_add_google(\"Quattrocento Sans\", regular.wt = 400, family = \"text\")        \nfont_add_google(\"Merriweather\", regular.wt = 400,family = \"caption\")\nshowtext_auto(enable = TRUE)  \n\n\nX_icon <- glue(\"<span style='font-family:fa6-brands'>&#xe61b;</span>\")\n\ncaption_text <- str_glue(\"{li} Arindam Baruah | {X_icon} @wizsights | {gh} arinbaruah | Source: TidyTuesday |#rstudio #ggplot2\")\n\ntheme_set(theme_minimal(base_size = 15, base_family = \"text\"))                \n\n# Theme updates\n\ntheme_update(\n  plot.title.position   = \"plot\",\n  plot.caption.position = \"plot\",\n  legend.position       = 'plot',\n  plot.margin           = margin(t = 10, r = 15, b = 0, l = 15),\n  plot.background       = element_rect(fill = bkg_col, color = bkg_col),\n  panel.background      = element_rect(fill = bkg_col, color = bkg_col),\n  axis.title.x          = element_text(margin = margin(10, 0, 0, 0), size = rel(1), color = text_col, family = 'text', face = 'bold'),\n  axis.title.y          = element_text(margin = margin(0, 10, 0, 0), size = rel(1), color = text_col, family = 'text', face = 'bold'),\n  axis.text             = element_text(size = 10, color = text_col, family = 'text',face = \"bold\"),\n  panel.grid.minor.y    = element_blank(),\n  panel.grid.major.y    = element_line(linetype = \"dotted\", linewidth = 0.1, color = 'gray40'),\n  panel.grid.minor.x    = element_blank(),\n  panel.grid.major.x    = element_blank(),\n  axis.line.x           = element_line(color = \"#d7d7d8\", linewidth = .2),\n)\n```\n:::\n\n\n\n## Data wrangling\n\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\"}\newf_standings <- ewf_standings %>% mutate(Status = case_when(position == 1 ~ \"Champions\",\n                                                              season_outcome == \"Relegated to tier 2\" ~ \"Relegations\",\n                                                             .default = \"All other teams\"))\n```\n:::\n\n\n\n\n\n\n\n## Data Visualisation {#sec-viz}\n\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\"}\n# Ensure ggplot2 and ggrepel are loaded\nlibrary(ggplot2)\nlibrary(ggrepel)\n\n\ntitle_text <- \"How do the goals scored and conceded vary for \\n those at the top and bottom of the table in Women's EFL?\"\n\nsubtitle_text <- \"<span style='color: #496250;'>Analyzing the number of goals scored and conceded by each participating Women‚Äôs English Football Club between 2011 and 2023 reveals a compelling picture of <br> contrasting performances in front of the goal. Championship-winning teams consistently demonstrated strong defenses, <strong> with none conceding more than 20 goals <br> in a season </strong>. However, the number of goals scored by these champions varied widely, ranging from 20 to 100 goals. This suggests that a <strong> solid defense is a more <br> significant contributor to championship success than a high-scoring offense </span>.</strong>\n\n<span style='color: darkred;'>Conversely, for clubs relegated to lower divisions, <strong> none scored more than 25 goals in a season </strong>, while the number of goals conceded ranged from 20 to 75.<br> This indicates that for teams at the bottom of the table, offensive struggles are more detrimental than defensive issues. In summary, as we move lower in the <br> standings, <strong> offensive performance becomes increasingly critical compared to defensive solidity.</span> </strong>\"\n\nnote_text <- \"Most dominant champion\"\n\n# Create the plot\npl <- ggplot(data = ewf_standings, aes(x = goals_for, y = goals_against, text = team_name)) +\n  geom_point(aes(color = Status), size = 1) + geom_point(\n    data = filter(ewf_standings, Status == \"Relegations\"),\n    aes(color = Status),\n    size = 4\n  ) +\n  geom_point(\n    data = filter(ewf_standings, Status == \"Champions\"),\n    aes(color = Status),\n    size = 4\n  ) +\n  geom_text_repel(\n    data = filter(ewf_standings, Status == \"Relegations\"),\n    aes(label = team_name),\n    size = rel(5),\n    nudge_x = -10,\n    nudge_y = 20,\n    fontface = \"bold\"\n  ) +\n  geom_text_repel(\n    data = filter(ewf_standings, Status == \"Champions\"),\n    aes(label = team_name),\n    size = rel(5),\n   # nudge_x = 7,\n    #nudge_y = -15,\n    fontface = \"bold\"\n  ) +\n   geom_richtext(\n     aes(\n      x = 75, y = 62,\n      label = note_text,\n      family = \"text\"\n    ),\n    vjust = 1.1,\n    label.color = NA,\n    size = rel(9),\n    fill = bkg_col\n  ) + \n    geom_curve(\n    aes(x = 75, xend = 96, y = 50, yend = 12),\n    curvature = 0.2,\n    arrow = arrow(length = unit(0.15, \"cm\"), type = \"closed\"),\n    color = \"black\"\n  ) +\n  scale_color_manual(values = c(\"Champions\" = \"gold\", \"Relegations\" = \"darkred\",\"All other teams\" = \"gray\"),\n                     name = \"Season outcome\") +\n  labs(caption = caption_text,\n       x = \"Goals scored\",\n       y = \"Goals conceded\",\n       title = title_text,\n       subtitle = subtitle_text) +\n   theme(legend.position = \"top\",\n    legend.title.position = \"top\",\n    legend.title = element_text(\n      color = text_col,\n      hjust = 0.5,\n      family = \"text\",\n      face = \"bold\",\n      size = rel(2.5),\n    ),\n    legend.text = element_text(\n      color = text_col,\n      family = \"text\",\n      size = rel(2),\n      face = \"bold\"\n    ),\n    plot.title            = element_text(\n      size                = rel(4),\n      family              = \"title\",\n      face                = \"bold\",\n      color               = title_col,\n      lineheight          = 0.3,\n      margin              = margin(t = 5, b = 5),\n      hjust               = 0.5\n    ),        \n    plot.subtitle         = element_markdown(\n      size                = rel(2), \n      family              = 'subtitle',\n      color               = subtitle_col,\n      hjust               = 0,\n      lineheight          = 0.2, \n      margin              = margin(t = 5, b = 1)\n    ),\n      plot.caption          = element_markdown(\n      size                = rel(1.5), \n      family              = 'caption',\n      color               = caption_col,\n      lineheight          = 0.3,\n      hjust               = 0.5,\n      halign              = 0,\n      margin              = margin(t = 10, b = 10)\n    ),\n    axis.title = element_markdown(\n      size = rel(2.5)\n    ),\n    axis.text  = element_markdown(\n      size = rel(2.5)\n    )\n  ) \n\nggsave(\"EWF_standings.png\",pl,dpi = 300,height = 6, width = 10)\n```\n:::\n\n\n\n## Final visualisation\n\n![Variation in goals scored and conceded for Champions and Relegations](EWF_standings.png){#fig-plot}\n\n@fig-plot illustrates the variation in the number of goals scored and conceded for Women's EFL Champions and Relegations. For the current analysis, league performances between the seasons of 2011 to 2023 were ocnsidered.\n\nSo what do we learn from this ? ü§îüïµüèª‚Äç‚ôÄÔ∏è\n\n:::{.callout-note}\n# Key takeaways\n\nKey insights based on 2011-2023 standingsüëá\n\n1. Defence wins you championships! ü•áüèÜ‚öΩÔ∏è\n2. Offence is more important for avoiding relegation. üò±üíî\n \n:::\n\n# References\n\n1. __tidyverse__: Wickham H, Averick M, Bryan J, Chang W, McGowan LD, Fran√ßois R, Grolemund G, Hayes A, Henry L, Hester J, Kuhn M,\n  Pedersen TL, Miller E, Bache SM, M√ºller K, Ooms J, Robinson D, Seidel DP, Spinu V, Takahashi K, Vaughan D, Wilke C,\n  Woo K, Yutani H (2019). ‚ÄúWelcome to the tidyverse.‚Äù _Journal of Open Source Software_, *4*(43), 1686.\n  doi:10.21105/joss.01686 <https://doi.org/10.21105/joss.01686>.\n  \n2. __glue__: Hester J, Bryan J (2024). _glue: Interpreted String Literals_. R package version 1.7.0, <https://CRAN.R-project.org/package=glue>.\n\n3. __ggrepel__: Slowikowski K (2024). _ggrepel: Automatically Position Non-Overlapping Text Labels with 'ggplot2'_. R package version 0.9.5,\n  <https://CRAN.R-project.org/package=ggrepel>.\n4. __ggplot2__: H. Wickham. ggplot2: Elegant Graphics for Data Analysis. Springer-Verlag New York, 2016.\n\n5. __ggtext__: Wilke C, Wiernik B (2022). _ggtext: Improved Text Rendering Support for 'ggplot2'_. R package version 0.1.2,\n  <https://CRAN.R-project.org/package=ggtext>.\n6. __sysfonts__: Qiu Y, details. aotifSfAf (2024). _sysfonts: Loading Fonts into R_. R package version 0.8.9,\n  <https://CRAN.R-project.org/package=sysfonts>.\n7. __showtext__: Qiu Y, details. aotisSfAf (2024). _showtext: Using Fonts More Easily in R Graphs_. R package version 0.9-7,\n  <https://CRAN.R-project.org/package=showtext>.\n\n\n<script src=\"https://utteranc.es/client.js\"\n        repo=\"arinbaruah/Rinsights_blog\"\n        issue-term=\"url\"\n        theme=\"github-light\"\n        crossorigin=\"anonymous\"\n        async>\n</script>\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}